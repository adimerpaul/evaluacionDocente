import{_ as M,k as F,r as g,M as O,z as T,n as s,p as i,q as a,s as o,O as p,S as y,Q as _,U as C,V as d,v as f,W as u,P as S,t,X as R,Y as I,u as c,Z as $,$ as q,a0 as x}from"./index.3c804d13.js";import{Q as L,a as N,b as V}from"./format.92df8c4d.js";import{Q as P}from"./QBadge.79b22c87.js";import{Q as B,a as w,C as G}from"./ClosePopup.d799f106.js";import{Q as U}from"./QSpace.93a8d210.js";import{Q as z}from"./QPage.b0c4ab05.js";import{store as v,url as Y,Alert as A,api as W}from"./axios.71988860.js";import"./globalStore.cc54f428.js";const Z=F({name:"EvaluacionPage",setup:function(){const e=g(!1),l=g(!1),b=g(""),h=g(""),E=g(1),k=O();return T(()=>{v.asignacion===null&&k.push("/")}),{responder:(r,Q)=>{Q.textRespuesta=r.name,E.value<v.conocimientos.length&&E.value++},enviar:()=>{l.value=!0},enviarFomulario:()=>{if(b.value===""){A.error("Debe seleccionar una carrera");return}if(h.value===""){A.error("Debe seleccionar una menci\xF3n");return}e.value=!0,W.post("formularios",{carrera:b.value,mension:h.value,respuestas:v.conocimientos,asignacion:v.asignacion}).then(r=>{console.log(r.data),A.success("Muchas gracias por su evaluaci\xF3n"),k.push("/")}).catch(r=>{console.log(r)}).finally(()=>{e.value=!1,l.value=!1})},loading:e,store:v,url:Y,num:E,dialog:l,carrera:b,mension:h}}}),j=["src"],X=t("span",{class:"text-weight-bold"},"Asignatura: ",-1),H=t("br",null,null,-1),J=t("span",{class:"text-weight-bold"},"Sigla: ",-1),K=t("br",null,null,-1),ee=t("span",{class:"text-weight-bold"},"Gestion: ",-1),ae={class:"q-py-xs"},oe={class:"absolute-full flex flex-center"},le={class:"text-bold text-center text-subtitle1"},ne={class:"text-black text-h5 text-bold"},se={class:"row justify-center q-mt-md"},te={class:"q-pa-md"},re=t("div",{class:"text-h6"},"\xBFEst\xE1 seguro de enviar la evaluaci\xF3n?",-1);function ie(e,l,b,h,E,k){return s(),i(z,{class:"items-center bg-grey-3 q-pa-md"},{default:a(()=>[o(S,{flat:"",bordered:"",class:"bg-grey-4"},{default:a(()=>[o(p,{class:"q-pa-xs"},{default:a(()=>[y((s(),i(L,{clickable:"",dense:""},{default:a(()=>[o(N,{avatar:""},{default:a(()=>[o(_,{size:"50px"},{default:a(()=>[e.store.asignacion?(s(),C("img",{key:0,src:`${e.url}../../images/${e.store.asignacion.docente.photo}`},null,8,j)):d("",!0)]),_:1})]),_:1}),o(N,null,{default:a(()=>[e.store.asignacion?(s(),i(V,{key:0},{default:a(()=>[f(u(e.store.asignacion.docente.name),1)]),_:1})):d("",!0),e.store.asignacion?(s(),i(V,{key:1,caption:""},{default:a(()=>[X,f(u(e.store.asignacion.materia.name)+" ",1),H,J,f(" "+u(e.store.asignacion.materia.sigla)+"- "+u(e.store.asignacion.paralelo)+" ",1),K,ee,f(u(e.store.asignacion.gestion),1)]),_:1})):d("",!0)]),_:1})]),_:1})),[[x]])]),_:1})]),_:1}),t("div",ae,[o(B,{rounded:"",size:"25px",value:e.num/e.store.conocimientos.length,color:"orange","track-color":"grey-3"},{default:a(()=>[t("div",oe,[o(P,{color:"white","text-color":"accent",label:e.num},null,8,["label"])])]),_:1},8,["value"])]),t("div",le,u(e.num)+"/"+u(e.store.conocimientos.length),1),(s(!0),C(I,null,R(e.store.conocimientos,(n,D)=>(s(),C(I,{key:n.id},[D+1==e.num?(s(),i(S,{key:0,class:"q-mb-md",flat:"",bordered:"",style:{height:"450px"}},{default:a(()=>[o(p,{class:"q-pa-xs text-center bg-black text-white text-h4"},{default:a(()=>[f(u(n.name),1)]),_:2},1024),o(p,null,{default:a(()=>[(s(!0),C(I,null,R(n.respuestas,(m,r)=>(s(),i(c,{class:"full-width q-ma-xs",rounded:"","no-caps":"",outline:n.textRespuesta!=m.name,key:m.id,color:r==0?"green":r==1?"orange":r==2?"red":"blue",onClick:Q=>e.responder(m,n)},{default:a(()=>[t("div",ne,u(m.name),1)]),_:2},1032,["outline","color","onClick"]))),128))]),_:2},1024)]),_:2},1024)):d("",!0)],64))),128)),t("div",se,[e.num>1?(s(),i(c,{key:0,label:"Anterior",color:"primary",onClick:l[0]||(l[0]=n=>e.num--),"no-caps":"",icon:"arrow_back"})):d("",!0),o(U),e.num<e.store.conocimientos.length?(s(),i(c,{key:1,label:"Siguiente",color:"primary",onClick:l[1]||(l[1]=n=>e.num++),"no-caps":"","icon-right":"arrow_forward"})):d("",!0)]),t("div",te,[e.num==e.store.conocimientos.length?(s(),i(c,{key:0,label:"Enviar",color:"green",onClick:e.enviar,"icon-right":"send",class:"full-width"},null,8,["onClick"])):d("",!0)]),o(q,{modelValue:e.dialog,"onUpdate:modelValue":l[4]||(l[4]=n=>e.dialog=n)},{default:a(()=>[o(S,null,{default:a(()=>[o(p,null,{default:a(()=>[re]),_:1}),o(p,null,{default:a(()=>[o(w,{label:"Carrera",modelValue:e.carrera,"onUpdate:modelValue":l[2]||(l[2]=n=>e.carrera=n),options:["INGENIER\xCDA DE SISTEMAS","INGENIER\xCDA INFORM\xC1TICA"],outlined:"",dense:""},null,8,["modelValue"]),o(w,{label:"Menci\xF3n",modelValue:e.mension,"onUpdate:modelValue":l[3]||(l[3]=n=>e.mension=n),options:["DESARROLLO DE SOFTWARE","TELEMATICA","DIRECCI\xD3N Y GESTI\xD3N DE SISTEMAS EMPRESARIALES","GESTI\xD3N DE LA INFORMACI\xD3N","MODELAMIENTO Y OPTIMIZACI\xD3N DE RECURSOS-PROCESOS"],outlined:"",dense:""},null,8,["modelValue"])]),_:1}),o($,{align:"right"},{default:a(()=>[y(o(c,{loading:e.loading,label:"Cancelar",color:"red"},null,8,["loading"]),[[G]]),o(c,{loading:e.loading,label:"Aceptar",color:"green",onClick:e.enviarFomulario},null,8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var be=M(Z,[["render",ie]]);export{be as default};
